<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="853px" preserveAspectRatio="none" style="width:738px;height:853px;" version="1.1" viewBox="0 0 738 853" width="738px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v3ze0fz8ubpu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="368.5" cy="20" fill="#000000" filter="url(#f1v3ze0fz8ubpu)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="196" x="270.5" y="50"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="275.5" x2="275.5" y1="50" y2="83.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="461.5" x2="461.5" y1="50" y2="83.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="176" x="280.5" y="71.1387">List of offers for the product</text><rect fill="#000000" filter="url(#f1v3ze0fz8ubpu)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="717" x="10" y="103.9688"/><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="65" y="129.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="70" x2="70" y1="129.9688" y2="163.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="132" x2="132" y1="129.9688" y2="163.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="75" y="151.1074">Offer #1</text><polygon fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" points="36,183.9375,166,183.9375,178,203.1445,166,222.3516,36,222.3516,24,203.1445,36,183.9375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="105" y="232.562">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="36" y="194.1479">Is offer valid according</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="36" y="206.9526">to the seller selection</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="36" y="219.7573">criteria?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="178" y="200.5503">No</text><ellipse cx="213" cy="203.1445" fill="none" filter="url(#f1v3ze0fz8ubpu)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="213.5" cy="203.6445" fill="#000000" filter="url(#f1v3ze0fz8ubpu)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="304" y="129.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="309" x2="309" y1="129.9688" y2="163.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="371" x2="371" y1="129.9688" y2="163.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="314" y="151.1074">Offer #2</text><polygon fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" points="275,183.9375,405,183.9375,417,203.1445,405,222.3516,275,222.3516,263,203.1445,275,183.9375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="344" y="232.562">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="275" y="194.1479">Is offer valid according</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="275" y="206.9526">to the seller selection</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="275" y="219.7573">criteria?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="417" y="200.5503">No</text><ellipse cx="452" cy="203.1445" fill="none" filter="url(#f1v3ze0fz8ubpu)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="452.5" cy="203.6445" fill="#000000" filter="url(#f1v3ze0fz8ubpu)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="542.5" y="129.9688"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="547.5" x2="547.5" y1="129.9688" y2="163.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="610.5" x2="610.5" y1="129.9688" y2="163.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="552.5" y="151.1074">Offer #N</text><polygon fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" points="514,183.9375,644,183.9375,656,203.1445,644,222.3516,514,222.3516,502,203.1445,514,183.9375" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="583" y="232.562">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="514" y="194.1479">Is offer valid according</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="514" y="206.9526">to the seller selection</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="514" y="219.7573">criteria?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="656" y="200.5503">No</text><ellipse cx="691" cy="203.1445" fill="none" filter="url(#f1v3ze0fz8ubpu)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="691.5" cy="203.6445" fill="#000000" filter="url(#f1v3ze0fz8ubpu)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><rect fill="#000000" filter="url(#f1v3ze0fz8ubpu)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="717" x="10" y="254.062"/><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="246.5" y="280.062"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="251.5" x2="251.5" y1="280.062" y2="314.0308"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="485.5" x2="485.5" y1="280.062" y2="314.0308"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="256.5" y="301.2007">List of filtered offers for the product</text><path d="M139.5,388.8354 L139.5,429.1011 A0,0 0 0 0 139.5,429.1011 L338.5,429.1011 A0,0 0 0 0 338.5,429.1011 L338.5,412.9683 L358.5,408.9683 L338.5,404.9683 L338.5,398.8354 L328.5,388.8354 L139.5,388.8354 A0,0 0 0 0 139.5,388.8354 " fill="#FBFB77" filter="url(#f1v3ze0fz8ubpu)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M328.5,388.8354 L328.5,398.8354 L338.5,398.8354 L328.5,388.8354 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="145.5" y="405.9023">Order would error with the</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="145.5" y="421.0352">code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="185.5" y="421.0352">"product_unavailable"</text><ellipse cx="368.5" cy="408.9683" fill="none" filter="url(#f1v3ze0fz8ubpu)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="369" cy="409.4683" fill="#000000" filter="url(#f1v3ze0fz8ubpu)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" points="271,334.0308,466,334.0308,478,346.0308,466,358.0308,271,358.0308,259,346.0308,271,334.0308" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="376.5" y="368.2412"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="372.5" y="381.0459">Yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="271" y="349.8389">Is the list of filtered offers empty?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="478" y="343.4365">No</text><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="239" x="249" y="471.1011"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="219" x="259" y="492.2397">Select the cheapest available offer</text><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="167" x="285" y="525.0698"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="295" y="546.2085">Continue with checkout</text><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="262" x="237.5" y="579.0386"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="242" x="247.5" y="600.1772">List shipping options valid for this offer</text><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="424" x="156.5" y="633.0073"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="404" x="166.5" y="654.146">Filter out invalid shipping options (i.e. too expensive or too slow)</text><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="61.9063" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="260.5" y="686.9761"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="194" x="270.5" y="708.1147">Sort the list of filtered shipping</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="270.5" y="722.0835">options according to</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="404.5" y="722.0835">order_by</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="170" x="270.5" y="736.0522">in the shipping parameters</text><rect fill="#FEFECE" filter="url(#f1v3ze0fz8ubpu)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="297.5" y="768.8823"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="307.5" y="790.021">Complete the order</text><ellipse cx="368.5" cy="832.8511" fill="none" filter="url(#f1v3ze0fz8ubpu)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="369" cy="833.3511" fill="#000000" filter="url(#f1v3ze0fz8ubpu)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="30" y2="50"/><polygon fill="#A80036" points="364.5,40,368.5,50,372.5,40,368.5,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101" x2="101" y1="222.3516" y2="254.062"/><polygon fill="#A80036" points="97,244.062,101,254.062,105,244.062,101,248.062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="178" x2="203" y1="203.1445" y2="203.1445"/><polygon fill="#A80036" points="193,199.1445,203,203.1445,193,207.1445,197,203.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101" x2="101" y1="163.9375" y2="183.9375"/><polygon fill="#A80036" points="97,173.9375,101,183.9375,105,173.9375,101,177.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="340" x2="340" y1="222.3516" y2="254.062"/><polygon fill="#A80036" points="336,244.062,340,254.062,344,244.062,340,248.062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="417" x2="442" y1="203.1445" y2="203.1445"/><polygon fill="#A80036" points="432,199.1445,442,203.1445,432,207.1445,436,203.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="340" x2="340" y1="163.9375" y2="183.9375"/><polygon fill="#A80036" points="336,173.9375,340,183.9375,344,173.9375,340,177.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="579" y1="222.3516" y2="254.062"/><polygon fill="#A80036" points="575,244.062,579,254.062,583,244.062,579,248.062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="656" x2="681" y1="203.1445" y2="203.1445"/><polygon fill="#A80036" points="671,199.1445,681,203.1445,671,207.1445,675,203.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="579" y1="163.9375" y2="183.9375"/><polygon fill="#A80036" points="575,173.9375,579,183.9375,583,173.9375,579,177.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101" x2="101" y1="109.9688" y2="129.9688"/><polygon fill="#A80036" points="97,119.9688,101,129.9688,105,119.9688,101,123.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="340" x2="340" y1="109.9688" y2="129.9688"/><polygon fill="#A80036" points="336,119.9688,340,129.9688,344,119.9688,340,123.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="579" y1="109.9688" y2="129.9688"/><polygon fill="#A80036" points="575,119.9688,579,129.9688,583,119.9688,579,123.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="364.5,93.9688,368.5,103.9688,372.5,93.9688,368.5,97.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="260.062" y2="280.062"/><polygon fill="#A80036" points="364.5,270.062,368.5,280.062,372.5,270.062,368.5,274.062" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="358.0308" y2="398.9683"/><polygon fill="#A80036" points="364.5,388.9683,368.5,398.9683,372.5,388.9683,368.5,392.9683" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="478" x2="490" y1="346.0308" y2="346.0308"/><polygon fill="#A80036" points="486,395.9683,490,405.9683,494,395.9683,490,399.9683" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="490" x2="490" y1="346.0308" y2="451.1011"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="490" x2="368.5" y1="451.1011" y2="451.1011"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="451.1011" y2="471.1011"/><polygon fill="#A80036" points="364.5,461.1011,368.5,471.1011,372.5,461.1011,368.5,465.1011" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="314.0308" y2="334.0308"/><polygon fill="#A80036" points="364.5,324.0308,368.5,334.0308,372.5,324.0308,368.5,328.0308" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="505.0698" y2="525.0698"/><polygon fill="#A80036" points="364.5,515.0698,368.5,525.0698,372.5,515.0698,368.5,519.0698" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="559.0386" y2="579.0386"/><polygon fill="#A80036" points="364.5,569.0386,368.5,579.0386,372.5,569.0386,368.5,573.0386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="613.0073" y2="633.0073"/><polygon fill="#A80036" points="364.5,623.0073,368.5,633.0073,372.5,623.0073,368.5,627.0073" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="666.9761" y2="686.9761"/><polygon fill="#A80036" points="364.5,676.9761,368.5,686.9761,372.5,676.9761,368.5,680.9761" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="748.8823" y2="768.8823"/><polygon fill="#A80036" points="364.5,758.8823,368.5,768.8823,372.5,758.8823,368.5,762.8823" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="368.5" x2="368.5" y1="802.8511" y2="822.8511"/><polygon fill="#A80036" points="364.5,812.8511,368.5,822.8511,372.5,812.8511,368.5,816.8511" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
start

:List of offers for the product|
fork
   :Offer #1|
   if (Is offer valid according\nto the seller selection\ncriteria?) then (Yes)
   else (No)
      stop
   endif
fork again
   :Offer #2|
   if (Is offer valid according\nto the seller selection\ncriteria?) then (Yes)
   else (No)
      stop
   endif
fork again
   :Offer #N|
   if (Is offer valid according\nto the seller selection\ncriteria?) then (Yes)
   else (No)
      stop
   endif
end fork
   :List of filtered offers for the product|
   if (Is the list of filtered offers empty?) then (\nYes)
      stop
      note left: Order would error with the\n**code** "product_unavailable"
   else (No)
   endif
   :Select the cheapest available offer;
   :Continue with checkout;
   :List shipping options valid for this offer;
   :Filter out invalid shipping options (i.e. too expensive or too slow);
   :Sort the list of filtered shipping\noptions according to **order_by**\nin the shipping parameters;
   :Complete the order;
stop
@enduml

PlantUML version 1.2018.14(Fri Dec 21 08:33:16 PST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_192-b26
Operating System: Linux
OS Version: 4.19.4-arch1-1-ARCH
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>